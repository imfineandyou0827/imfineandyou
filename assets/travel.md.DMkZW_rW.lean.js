import{_ as m,v as f,c as u,o as x,ae as w}from"./chunks/framework.sippFj2z.js";const $=JSON.parse('{"title":"旅程","description":"","frontmatter":{},"headers":[],"relativePath":"travel.md","filePath":"travel.md"}'),y={name:"travel.md"},k=Object.assign(y,{setup(_){let o={};return f(()=>{const n=document.createElement("script");n.src="https://webapi.amap.com/maps?v=2.0&key=2b8f301df116637eb0206846d8e5c054",fetch("/imfineandyou/photos/photos.json").then(d=>d.json()).then(d=>{o=d}),n.onload=()=>{const d=new AMap.Map("travel-map",{zoom:7,center:[91.1322,29.6604],mapStyle:"amap://styles/whitesmoke",features:["bg","road","building","point"]}),g=["杭州市","拉萨市","乌鲁木齐市","北京市","上海市","重庆市"],h="#7ed6a7",p="#e6f7ec",r="#b3c6e0";AMap.plugin(["AMap.GeoJSON"],function(){fetch("/imfineandyou/geojson/china-cities-full.geojson").then(a=>a.json()).then(a=>{a.features.forEach(t=>{const s=t.properties.name,i=g.includes(s),e=t.geometry.coordinates;t.geometry.type==="MultiPolygon"?e.forEach(l=>{new AMap.Polygon({path:l[0],strokeColor:i?h:r,fillColor:i?p:"#ffffff",fillOpacity:i?.6:0,strokeWeight:1.5,zIndex:100,extData:{name:s}}).setMap(d)}):t.geometry.type==="Polygon"&&new AMap.Polygon({path:e[0],strokeColor:i?h:r,fillColor:i?p:"#ffffff",fillOpacity:i?.6:0,strokeWeight:1.5,zIndex:100,extData:{name:s}}).setMap(d)})})}),[{name:"北京",lng:116.4074,lat:39.9042,description:"首都，历史文化名城",date:"2023年",icon:"🏛️",photos:[{url:"https://images.unsplash.com/photo-1508697014387-db70aad34f4d?w=400&h=300&fit=crop",caption:"天安门广场"},{url:"https://images.unsplash.com/photo-1508804185872-d7badad00f7d?w=400&h=300&fit=crop",caption:"故宫角楼"},{url:"https://images.unsplash.com/photo-1508804185872-d7badad00f7d?w=400&h=300&fit=crop",caption:"长城"},{url:"https://images.unsplash.com/photo-1508804185872-d7badad00f7d?w=400&h=300&fit=crop",caption:"颐和园"}]},{name:"上海",lng:121.4737,lat:31.2304,description:"魔都，现代化大都市",date:"2023年",icon:"🌆",photos:[{url:"https://images.unsplash.com/photo-1536599018102-9f803c140fc1?w=400&h=300&fit=crop",caption:"外滩夜景"},{url:"https://images.unsplash.com/photo-1536599018102-9f803c140fc1?w=400&h=300&fit=crop",caption:"东方明珠"},{url:"https://images.unsplash.com/photo-1536599018102-9f803c140fc1?w=400&h=300&fit=crop",caption:"豫园"}]},{name:"杭州",lng:120.1551,lat:30.2741,description:"人间天堂，西湖美景",date:"2023年",icon:"🏞️",photos:[{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"西湖断桥"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"雷峰塔"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"灵隐寺"}]},{name:"拉萨",lng:91.1,lat:29.65,description:"雪域高原，布达拉宫",date:"2023年",icon:"🏔️",photos:[{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"布达拉宫"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"大昭寺"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"八廓街"}]},{name:"冈仁波齐",lng:81.3125,lat:31.0667,description:"神山，世界中心",date:"2023年",icon:"⛰️",photos:[{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"冈仁波齐峰"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"转山路上"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"经幡"}]},{name:"玛旁雍错",lng:81.3333,lat:30.6667,description:"圣湖，三大圣湖之一",date:"2023年",icon:"💧",photos:[{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"玛旁雍错湖"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"湖边经幡"}]},{name:"羊湖",lng:90.5,lat:29,description:"羊卓雍错，高原蓝宝石",date:"2023年",icon:"🌊",photos:[{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"羊卓雍错"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"湖边雪山"}]},{name:"日本",lng:138.2529,lat:36.2048,description:"樱花之国，现代与传统",date:"2023年",icon:"🌸",photos:[{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"东京塔"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"京都樱花"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"大阪城"}]},{name:"新疆",lng:87.6168,lat:43.8256,description:"大美新疆，丝路明珠",date:"2023年",icon:"🏜️",photos:[{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=2560&h=1440&fit=crop",caption:"天山天池"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",caption:"吐鲁番葡萄"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1080&h=1080&fit=crop",caption:"喀什古城"}]}].forEach(a=>{const t=new AMap.Marker({position:[a.lng,a.lat],icon:new AMap.Icon({image:"/imfineandyou/location.png",size:new AMap.Size(20,20),imageSize:new AMap.Size(20,20)}),offset:new AMap.Pixel(-10,-20)});t.setMap(d);let s="",i=0;o[a.name]&&o[a.name].length>0&&(s=`<img src='${o[a.name][0].url}' style='width: 200px; height: 150px; object-fit: cover; border-radius: 8px; cursor: pointer; border: 2px solid #ddd; margin-bottom: 8px;' onclick="showPhotoGallery('${a.name}')" title='点击查看所有照片'>`,i=o[a.name].length);const e=`
        <div style="text-align: center; min-width: 220px; padding: 10px;">
          <div style='font-size: 32px; margin-bottom: 8px;'>${a.icon||""}</div>
          <h3 style="margin: 0 0 8px 0; color: #333;">${a.name}</h3>
          <p style="margin: 0 0 4px 0; color: #666;">${a.description||""}</p>
          <p style="margin: 0 0 12px 0; color: #999; font-size: 12px;">${a.date||""}</p>
          ${s?`<div style='margin-top: 12px;'>${s}<div style='font-size: 12px; color: #666;'>📸 ${i} 张照片 · 点击查看</div></div>`:""}
        </div>
      `,l=new AMap.InfoWindow({content:e,offset:new AMap.Pixel(0,-30)});t.on("click",()=>{l.open(d,t.getPosition())})});const v=document.createElement("div");v.style.cssText=`
      position: absolute;
      bottom: 20px;
      right: 20px;
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      z-index: 1000;
    `,v.innerHTML=`
      <h4 style="margin: 0 0 10px 0;">我的足迹</h4>
      <p style="margin: 0; color: #666;">点击标记查看详情和照片</p>
    `,document.getElementById("travel-map").appendChild(v),window.showPhotoGallery=function(a){const t=o[a]||[];if(!t.length)return;let s=0;const i=document.createElement("div");i.style.cssText="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: flex; align-items: center; justify-content: center; z-index: 10000;";function e(){const c=t[s];i.innerHTML=`
          <div style="background: #fff; border-radius: 16px; box-shadow: 0 4px 24px rgba(0,0,0,0.18); padding: 32px 24px 24px 24px; min-width: 320px; max-width: 100vw; max-height: 98vh; display: flex; flex-direction: column; align-items: center; position: relative;">
            <div style="position: absolute; top: 16px; right: 16px; color: #888; font-size: 28px; cursor: pointer;" onclick="this.parentElement.parentElement.remove()">✕</div>
            <div style="width: 100%; height: 70vh; display: flex; align-items: center; justify-content: center; margin-bottom: 16px; background: #f8f8f8;">
              <img src="${c.url}" style="max-width: 98vw; max-height: 100%; object-fit: contain; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            </div>
            <div style="color: #444; font-size: 15px; margin-bottom: 12px;">${c.caption||a}</div>
            ${t.length>1?`
              <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                <button onclick="changePhoto(-1)" style="background: #f0f0f0; border: none; color: #333; padding: 8px 16px; border-radius: 5px; cursor: pointer;">← 上一张</button>
                <button onclick="changePhoto(1)" style="background: #f0f0f0; border: none; color: #333; padding: 8px 16px; border-radius: 5px; cursor: pointer;">下一张 →</button>
              </div>
              <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                ${t.map((M,b)=>`
                  <div onclick="goToPhoto(${b})" style="width: 12px; height: 12px; border-radius: 50%; background: ${b===s?"#7ed6a7":"#eee"}; cursor: pointer;"></div>
                `).join("")}
              </div>
            `:""}
          </div>
        `}window.changePhoto=function(c){s=(s+c+t.length)%t.length,e()},window.goToPhoto=function(c){s=c,e()},e(),document.body.appendChild(i);const l=c=>{c.key==="Escape"?(document.body.removeChild(i),document.removeEventListener("keydown",l)):c.key==="ArrowLeft"?changePhoto(-1):c.key==="ArrowRight"&&changePhoto(1)};document.addEventListener("keydown",l)}},document.head.appendChild(n)}),(n,d)=>(x(),u("div",null,d[0]||(d[0]=[w("",8)])))}}),z=m(k,[["__scopeId","data-v-ca95b019"]]);export{$ as __pageData,z as default};
